{% extends 'base.html'%}

{% block content %}
<h3>Make a Booking </h3>

<div>
    Booking for {{ current_user.username }}
</div>
<div>
    Email: {{ current_user.email }}
</div>

<form form method="POST" class="form-container">
    <small>Note: You can only make one booking</small>
<label for="booking_date">Date for Booking</label>
            <input 
            type="date" 
            class="form" 
            id="booking_date" 
            name="booking_date" 
            placeholder="" 
            required
            />
            <div>
                <script>
                    // Get today's date
                    const today = new Date();
                    const yyyy = today.getFullYear();
                    const mm = String(today.getMonth() + 1).padStart(2, '0'); // Months are zero-based
                    const dd = String(today.getDate()).padStart(2, '0');
            
                    // Format today's date as YYYY-MM-DD
                    const todayFormatted = `${yyyy}-${mm}-${dd}`;
            
                    // Calculate the date 5 days from today
                    const maxDate = new Date(today);
                    maxDate.setDate(maxDate.getDate() + 400);
                    const maxYyyy = maxDate.getFullYear();
                    const maxMm = String(maxDate.getMonth() + 1).padStart(2, '0');
                    const maxDd = String(maxDate.getDate()).padStart(2, '0');
                    const maxDateFormatted = `${maxYyyy}-${maxMm}-${maxDd}`;
            
                    // Set the min and max attributes for the date input
                    const dateInput = document.getElementById('booking_date');
                    dateInput.setAttribute('min', todayFormatted);
                    dateInput.setAttribute('max', maxDateFormatted);
                </script> 

<label for="booking_name">Name</label>
                <input 
                type="" 
                class="form" 
                id="booking_name" 
                name="booking_name" 
                placeholder="" 
                required
                />
                <div>




<label for="booking_amount_adults">Amount of Adults</label>
            <input 
            type="number" 
            class="form" 
            id="booking_amount_adults" 
            name="booking_amount_adults" 
            placeholder="" 
            required
            min="1"
            />
            <div>

<label for="booking_amount_children">Amount of Children</label>
            <input 
            type="number" 
            class="form" 
            id="booking_amount_children" 
            name="booking_amount_children" 
            placeholder="" 
            required
            min="1"
            />
            <div>

            <br>
            <button type="submit" class="btn">Create Booking</button>
            <label for="option1">

</form>

<div id="booking-data">

    <h2>Booking for "{{ name }}"</h2>
    <small>*Bookings are made under your email<small></small>
    <h2>Amount of adults: {{ amount_adults }}</h2>
    <h2>Amount of children: {{ amount_children }}</h2>
    <h2>Date of Booking:   {{ booking_date }}</h2>
    <h2>Total amount Â£{{ total }}</h2>
    
</div>


{% endblock %}